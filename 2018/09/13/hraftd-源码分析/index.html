<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>hraftd 源码分析 | langgo's blogs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">hraftd 源码分析</h1><a id="logo" href="/.">langgo's blogs</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">hraftd 源码分析</h1><div class="post-meta">Sep 13, 2018</div><div class="post-content"><p><a href="https://github.com/otoolep/hraftd/tree/353050de98a8a0366a6af80da347c883bb61fc34" target="_blank" rel="noopener">https://github.com/otoolep/hraftd</a></p>
<p>本文通过分析<code>hraftd</code>的源码，了解如何使用 raft库 <code>hashicorp/raft</code>。</p>
<p>为后面分析 <code>hashicorp/raft</code> 做准备。</p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>raft 是一个分布式一致性协议，它的目的是保持集群中节点状态的一致性，即使部分节点失败或者网络分区。当构建容错系统时，分布式一致性是一个基础的概念。</p>
<p><code>hraftd</code> 是使用 <code>hashicorp/raft</code> 的一个例子，可以帮助我们学习raft。</p>
<p>但是它有很多问题并没有解决</p>
<ul>
<li>当客户端访问一个非leader节点时，直接返回了失败。<ul>
<li>可以返回重定向</li>
<li>可以节点内部代理</li>
</ul>
</li>
<li>现在是3个节点提供读，所以可能读到脏数据</li>
<li>即使一个节点提供读，但是网络分区的情况下，仍可能读到脏数据</li>
</ul>
<p>具体的使用可以参考 github的 README。</p>
<h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><p>hraftd 的结构如下</p>
<p><img src="./hraftd_arch.png" alt="xx"></p>
<p>store 由以下几部分组成</p>
<ul>
<li><code>raft.FSM</code> 负责存储业务状态，即http请求的kv都是存储在这里的</li>
<li><code>raft.LogStore</code> 负责存储raft协议内部的日志。raft通过日志来同步状态机</li>
<li><code>raft.StableStore</code> 负责存储raft协议内部的一些持久化数据</li>
<li><code>raft.SnapshotStore</code> 负责存储FSM的快照，以压缩LogStore</li>
<li><code>raft.Tranport</code> 负责raft nodes之间的网络通讯</li>
</ul>
<p>下面是 <code>hraftd</code> 使用 <code>hashicorp/raft</code> 代码摘录。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Instantiate the Raft systems.</span></span><br><span class="line">	ra, err := raft.NewRaft(config, (*fsm)(s), logStore, stableStore, snapshots, transport)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> fmt.Errorf(<span class="string">"new raft: %s"</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	s.raft = ra</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> enableSingle &#123;</span><br><span class="line">		configuration := raft.Configuration&#123;</span><br><span class="line">			Servers: []raft.Server&#123;</span><br><span class="line">				&#123;</span><br><span class="line">					ID:      config.LocalID,</span><br><span class="line">					Address: transport.LocalAddr(),</span><br><span class="line">				&#125;,</span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;</span><br><span class="line">		ra.BootstrapCluster(configuration)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="raft-FSM"><a href="#raft-FSM" class="headerlink" title="raft.FSM"></a><code>raft.FSM</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FSM provides an interface that can be implemented by</span></span><br><span class="line"><span class="comment">// clients to make use of the replicated log.</span></span><br><span class="line"><span class="keyword">type</span> FSM <span class="keyword">interface</span> &#123;</span><br><span class="line">	<span class="comment">// Apply log is invoked once a log entry is committed.</span></span><br><span class="line">	<span class="comment">// It returns a value which will be made available in the</span></span><br><span class="line">	<span class="comment">// ApplyFuture returned by Raft.Apply method if that</span></span><br><span class="line">	<span class="comment">// method was called on the same Raft node as the FSM.</span></span><br><span class="line">	Apply(*Log) <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Snapshot is used to support log compaction. This call should</span></span><br><span class="line">	<span class="comment">// return an FSMSnapshot which can be used to save a point-in-time</span></span><br><span class="line">	<span class="comment">// snapshot of the FSM. Apply and Snapshot are not called in multiple</span></span><br><span class="line">	<span class="comment">// threads, but Apply will be called concurrently with Persist. This means</span></span><br><span class="line">	<span class="comment">// the FSM should be implemented in a fashion that allows for concurrent</span></span><br><span class="line">	<span class="comment">// updates while a snapshot is happening.</span></span><br><span class="line">	Snapshot() (FSMSnapshot, error)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Restore is used to restore an FSM from a snapshot. It is not called</span></span><br><span class="line">	<span class="comment">// concurrently with any other command. The FSM must discard all previous</span></span><br><span class="line">	<span class="comment">// state.</span></span><br><span class="line">	Restore(io.ReadCloser) error</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// FSMSnapshot is returned by an FSM in response to a Snapshot</span></span><br><span class="line"><span class="comment">// It must be safe to invoke FSMSnapshot methods with concurrent</span></span><br><span class="line"><span class="comment">// calls to Apply.</span></span><br><span class="line"><span class="keyword">type</span> FSMSnapshot <span class="keyword">interface</span> &#123;</span><br><span class="line">	<span class="comment">// Persist should dump all necessary state to the WriteCloser 'sink',</span></span><br><span class="line">	<span class="comment">// and call sink.Close() when finished or call sink.Cancel() on error.</span></span><br><span class="line">	Persist(sink SnapshotSink) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Release is invoked when we are finished with the snapshot.</span></span><br><span class="line">	Release()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Log entries are replicated to all members of the Raft cluster</span></span><br><span class="line"><span class="comment">// and form the heart of the replicated state machine.</span></span><br><span class="line"><span class="keyword">type</span> Log <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">// Index holds the index of the log entry.</span></span><br><span class="line">	Index <span class="keyword">uint64</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Term holds the election term of the log entry.</span></span><br><span class="line">	Term <span class="keyword">uint64</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// Type holds the type of the log entry.</span></span><br><span class="line">	Type LogType</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Data holds the log entry's type-specific data.</span></span><br><span class="line">	Data []<span class="keyword">byte</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>raft 负责同步日志，存储日志，压缩日志。但是实际状态的存储，需要raft使用者自己实现。<code>FSM</code>接口 是 <code>raft -&gt; fsm instance</code> （数据从 raft 流向 fsm instance）。</p>
<h3 id="raft-LogStore"><a href="#raft-LogStore" class="headerlink" title="raft.LogStore"></a><code>raft.LogStore</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LogStore is used to provide an interface for storing</span></span><br><span class="line"><span class="comment">// and retrieving logs in a durable fashion.</span></span><br><span class="line"><span class="keyword">type</span> LogStore <span class="keyword">interface</span> &#123;</span><br><span class="line">	<span class="comment">// FirstIndex returns the first index written. 0 for no entries.</span></span><br><span class="line">	FirstIndex() (<span class="keyword">uint64</span>, error)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// LastIndex returns the last index written. 0 for no entries.</span></span><br><span class="line">	LastIndex() (<span class="keyword">uint64</span>, error)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// GetLog gets a log entry at a given index.</span></span><br><span class="line">	GetLog(index <span class="keyword">uint64</span>, log *Log) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// StoreLog stores a log entry.</span></span><br><span class="line">	StoreLog(log *Log) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// StoreLogs stores multiple log entries.</span></span><br><span class="line">	StoreLogs(logs []*Log) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// DeleteRange deletes a range of log entries. The range is inclusive.</span></span><br><span class="line">	DeleteRange(min, max <span class="keyword">uint64</span>) error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>LogStore 是由raft使用者实现，用于 raft log 持久化。</p>
<h3 id="raft-StableStore"><a href="#raft-StableStore" class="headerlink" title="raft.StableStore"></a><code>raft.StableStore</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// StableStore is used to provide stable storage</span></span><br><span class="line"><span class="comment">// of key configurations to ensure safety.</span></span><br><span class="line"><span class="keyword">type</span> StableStore <span class="keyword">interface</span> &#123;</span><br><span class="line">	Set(key []<span class="keyword">byte</span>, val []<span class="keyword">byte</span>) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Get returns the value for key, or an empty byte slice if key was not found.</span></span><br><span class="line">	Get(key []<span class="keyword">byte</span>) ([]<span class="keyword">byte</span>, error)</span><br><span class="line"></span><br><span class="line">	SetUint64(key []<span class="keyword">byte</span>, val <span class="keyword">uint64</span>) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// GetUint64 returns the uint64 value for key, or 0 if key was not found.</span></span><br><span class="line">	GetUint64(key []<span class="keyword">byte</span>) (<span class="keyword">uint64</span>, error)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	keyCurrentTerm  = []<span class="keyword">byte</span>(<span class="string">"CurrentTerm"</span>)</span><br><span class="line">	keyLastVoteTerm = []<span class="keyword">byte</span>(<span class="string">"LastVoteTerm"</span>)</span><br><span class="line">	keyLastVoteCand = []<span class="keyword">byte</span>(<span class="string">"LastVoteCand"</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>raft 协议实现上需要一些持久化的状态。</p>
<h3 id="raft-SnapshotStore"><a href="#raft-SnapshotStore" class="headerlink" title="raft.SnapshotStore"></a><code>raft.SnapshotStore</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SnapshotStore interface is used to allow for flexible implementations</span></span><br><span class="line"><span class="comment">// of snapshot storage and retrieval. For example, a client could implement</span></span><br><span class="line"><span class="comment">// a shared state store such as S3, allowing new nodes to restore snapshots</span></span><br><span class="line"><span class="comment">// without streaming from the leader.</span></span><br><span class="line"><span class="keyword">type</span> SnapshotStore <span class="keyword">interface</span> &#123;</span><br><span class="line">	<span class="comment">// Create is used to begin a snapshot at a given index and term, and with</span></span><br><span class="line">	<span class="comment">// the given committed configuration. The version parameter controls</span></span><br><span class="line">	<span class="comment">// which snapshot version to create.</span></span><br><span class="line">	Create(version SnapshotVersion, index, term <span class="keyword">uint64</span>, configuration Configuration,</span><br><span class="line">		configurationIndex <span class="keyword">uint64</span>, trans Transport) (SnapshotSink, error)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// List is used to list the available snapshots in the store.</span></span><br><span class="line">	<span class="comment">// It should return then in descending order, with the highest index first.</span></span><br><span class="line">	List() ([]*SnapshotMeta, error)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Open takes a snapshot ID and provides a ReadCloser. Once close is</span></span><br><span class="line">	<span class="comment">// called it is assumed the snapshot is no longer needed.</span></span><br><span class="line">	Open(id <span class="keyword">string</span>) (*SnapshotMeta, io.ReadCloser, error)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>日志的快照存储</p>
<h3 id="raft-Tranport"><a href="#raft-Tranport" class="headerlink" title="raft.Tranport"></a><code>raft.Tranport</code></h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Transport provides an interface for network transports</span></span><br><span class="line"><span class="comment">// to allow Raft to communicate with other nodes.</span></span><br><span class="line"><span class="keyword">type</span> Transport <span class="keyword">interface</span> &#123;</span><br><span class="line">	<span class="comment">// Consumer returns a channel that can be used to</span></span><br><span class="line">	<span class="comment">// consume and respond to RPC requests.</span></span><br><span class="line">	Consumer() &lt;-<span class="keyword">chan</span> RPC</span><br><span class="line"></span><br><span class="line">	<span class="comment">// LocalAddr is used to return our local address to distinguish from our peers.</span></span><br><span class="line">	LocalAddr() ServerAddress</span><br><span class="line"></span><br><span class="line">	<span class="comment">// AppendEntriesPipeline returns an interface that can be used to pipeline</span></span><br><span class="line">	<span class="comment">// AppendEntries requests.</span></span><br><span class="line">	AppendEntriesPipeline(id ServerID, target ServerAddress) (AppendPipeline, error)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// AppendEntries sends the appropriate RPC to the target node.</span></span><br><span class="line">	AppendEntries(id ServerID, target ServerAddress, args *AppendEntriesRequest, resp *AppendEntriesResponse) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// RequestVote sends the appropriate RPC to the target node.</span></span><br><span class="line">	RequestVote(id ServerID, target ServerAddress, args *RequestVoteRequest, resp *RequestVoteResponse) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// InstallSnapshot is used to push a snapshot down to a follower. The data is read from</span></span><br><span class="line">	<span class="comment">// the ReadCloser and streamed to the client.</span></span><br><span class="line">	InstallSnapshot(id ServerID, target ServerAddress, args *InstallSnapshotRequest, resp *InstallSnapshotResponse, data io.Reader) error</span><br><span class="line"></span><br><span class="line">	<span class="comment">// EncodePeer is used to serialize a peer's address.</span></span><br><span class="line">	EncodePeer(id ServerID, addr ServerAddress) []<span class="keyword">byte</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// DecodePeer is used to deserialize a peer's address.</span></span><br><span class="line">	DecodePeer([]<span class="keyword">byte</span>) ServerAddress</span><br><span class="line"></span><br><span class="line">	<span class="comment">// SetHeartbeatHandler is used to setup a heartbeat handler</span></span><br><span class="line">	<span class="comment">// as a fast-pass. This is to avoid head-of-line blocking from</span></span><br><span class="line">	<span class="comment">// disk IO. If a Transport does not support this, it can simply</span></span><br><span class="line">	<span class="comment">// ignore the call, and push the heartbeat onto the Consumer channel.</span></span><br><span class="line">	SetHeartbeatHandler(cb <span class="function"><span class="keyword">func</span><span class="params">(rpc RPC)</span>)</span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>
<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h1><p>源码引用的<code>hashicorp/raft</code><br><a href="https://github.com/hashicorp/raft/tree/82694fb663be3ffa7769961ee9a65e4c39ebbf2c" target="_blank" rel="noopener">https://github.com/hashicorp/raft</a></p>
</div><div class="tags"><a href="/tags/raft-hraftd-raft源码-go/">raft hraftd raft源码 go</a></div><div class="post-nav"><a class="pre" href="/2018/09/19/hashicorp-raft源码分析/">hashicorp/raft源码分析</a><a class="next" href="/2018/09/11/storage-index/">storage index</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://langgo.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/raft-hraftd-raft源码-go/" style="font-size: 15px;">raft hraftd raft源码 go</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/16/go-并发模式/">go 并发模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/raft协议论文阅读/">raft协议论文阅读</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/19/hashicorp-raft源码分析/">hashicorp/raft源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/13/hraftd-源码分析/">hraftd 源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/11/storage-index/">storage index</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/10/raft-index/">raft index</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/10/何去何从/">何去何从</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://langgo.github.io/" title="langgo's blog" target="_blank">langgo's blog</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">langgo's blogs.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>